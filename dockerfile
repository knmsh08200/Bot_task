FROM golang:1.23-alpine

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем модульные файлы Go в рабочую директорию
COPY go.mod go.sum ./

# Загружаем зависимости
RUN go mod download

# Копируем все файлы проекта в рабочую директорию
COPY . .

# Определяем порт, который будет использоваться
EXPOSE 3001

# Команда по умолчанию для выполнения миграций и запуска приложения
CMD  go run cmd/main.go
